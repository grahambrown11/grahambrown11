<!DOCTYPE html>
<html><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
     
    <link rel="stylesheet" href="https://grahambrown11.com/css/main.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <title>Is My Alarm Panel Smart? | Graham</title>
</head>
<body class="blue-grey darken-4">
        <main class="">
<div><div class="header">
    <h2 class="center"><a href="/"><img src="/images/GB-Mug.jpg"></a>Graham's Blog</h2>
    
</div>
</div>

            <div class="clearfix"></div>
            <div class="content">
<div class="blog">
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Is My Alarm Panel Smart?</h1>
      <div class="post-meta">
        <div>
            <i class="fas fa-calendar-day"></i>&nbsp;&nbsp;Nov 22, 2020
        </div>
      </div>
    </header>
    <div class="post-content">
      <p>In this modern world with the Internet everything has become <em>smart</em>.</p>
<p>The smart trend started with the mobile phone - do you remember that brick that almost fit in your pocket with around 14 buttons that could make a phone call and send text messages? Changing its buttons for a touch screen and having Internet connectivity now makes it a smartphone. The phone itself didn’t get smarter, it’s the possibilities that opened up from the new interactive display and being connected to the Internet that earned it the smart label. Other electronics started adopting the smart label like TVs, speakers, light bulbs and even kitchen appliances. But as noted with the smartphone they’re not smart on their own - it&rsquo;s the servers on the Internet they talk to (also known as Cloud Services).</p>
<p>So if I could add WiFi to my alarm panel that talks to a server does it make it smart?
I found a module - the EnvisaLink 4 that has ethernet and connects to the DSC alarm panel, but I would prefer a WiFi one as my alarm panel is upstairs and the router downstairs - didn’t want to run an ethernet cable. I then came across an OpenSource project <a href="https://github.com/taligentx/dscKeybusInterface">dscKeybusInterface</a> which is a library for microcontrollers, so I bought a D1 Mini (ESP8266) and the other electronic components to build my own module.</p>
<p><img src="/images/blog/Alarm%20Circuit.png" alt="Circuit"></p>
<p>I liked the VirtualKeypad-Web example from the dscKeybusInterface library which has a web server with a good looking web page to control the panel, however that does not really make it smart… HomeAssistant is software that allows you to automate actions to/from smart devices, this is where the smarts come from for my alarm panel, so I combined the virtual keypad with the HomeAssistant-MQTT example. Although I’ve not got anything very smart yet, at least I get notified via my smartphone when the alarm is triggered, and I can use the motion to turn on lights.</p>
<p><img src="/images/blog/Alarm%20Screenshots.png" alt="Screenshots"></p>
<p>After running for a few weeks, the virtual keypad stopped working and HomeAssistant wasn’t getting events, so I implemented a watchdog which determines if the code stopped running and resets the D1 Mini. The code can be found on my <a href="https://github.com/grahambrown11/ESPAlarmPanel">GitHub</a>.</p>
    </div>
  </article>
  <div class="footer-home">
      <a href="/blog/">Blog</a> | <a href="/cv/">CV</a> | <a href="/">Home</a>
  </div>
</div>

            </div>
        </main><script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    M.Sidenav.init(document.querySelectorAll('.sidenav'));
  });
</script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-137430899-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>
</html>
